@model IEnumerable<WebApp1.Models.ManageAssetsAllocation>
@{
    ViewData["Title"] = "ManageAssetsAllocation";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}

<!-- page content -->
<div class="right_col" role="main">
    <div class="">
        <div class="page-title">
            <div class="title_left">
                <h1><a class="fa fa-users">--</a><a class="fa fa-building">--</a><a class="fa fa-wrench" style="margin-right:2px"></a>Manage Asset Allocations </h1>
            </div>

        </div>
        <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel">
                <div class="x_title">
                    <h2>Update or Delete Asset Allocations</h2>

                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                        <thead>
                            <tr>
                                <th>Asset Owner</th>
                                <th>Asset Brief Description</th>
                                <th>Asset Address</th>
                                <th>Tenant Name</th>
                                <th>Tenant Address</th>
                                <th>Tenant Phone Number</th>
                                <th>Rent Expiring Day</th>
                                @*<th>Update</th>*@
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var asset in Model)
                            {
                                <tr id="@asset.Id">
                                    <td>@asset.AssetName</td>
                                    <td>@asset.AssetBreif</td>
                                    <td>@asset.AssetAddress</td>
                                    <td>@asset.TenantName</td>
                                    <td>@asset.TenantAddress</td>
                                    <td>@asset.TenantNumber</td>
                            <td>@asset.RentExp</td>
                                    <td><button class="btn btn-block btn-danger" onclick="getVal(this.value)" type="submit" value="@asset.Id">Unallocate</button></td>
                                </tr>}
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

@*Java Script code for deleting*@
<script type="text/javascript">
    function getVal(value) {
        

        $.ajax({
            type: "POST",
            url: "/UserHome/ManageAssetsAllocation",
            datatype: 'json',
            data: {'data':value},
            success: function (response) {
                alert("Successfully Unallocated");
                location.reload();
            }
        });
    }
</script>

<script src="~/vendor/jquery/jquery-3.2.1.min.js"></script>
